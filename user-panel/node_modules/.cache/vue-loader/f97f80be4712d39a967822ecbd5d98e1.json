{"remainingRequest":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/src/pages/Contact.vue?vue&type=style&index=0&id=7203ef2c&scoped=true&lang=css&","dependencies":[{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/src/pages/Contact.vue","mtime":1569423412250},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.contact-card {\n    margin-top: 100px;\n}\n\n.message-box {\n    height: 100px;\n    background-color: whitesmoke;\n    border-radius: 25px;\n    text-indent: 20px;\n}\n\n",{"version":3,"sources":["Contact.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Contact.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    <div>\n        <div class = \"main\">\n            <div class = \"row\">\n                <div class = \"container\">\n                    <div class=\"col-md-6 ml-auto mr-auto\"> \n                        <Card class=\"contact-card\"> \n                            <h3 class=\"text-center text-info\"><b>Send Us a Message</b></h3>\n                            <fg-input class=\"no-border input-lg\" addon-left-icon=\"now-ui-icons emoticons_satisfied\" placeholder=\"Name\" v-model=\"userPayload.name\" type=\"name\"></fg-input>\n                            <fg-input class=\"no-border input-lg\" addon-left-icon=\"now-ui-icons ui-1_email-85\" placeholder=\"Email\" v-model=\"userPayload.email\" type=\"email\"></fg-input>\n                            <b-form-textarea class=\"message-box input-lg\" placeholder=\"Message\" v-model=\"userPayload.message\" type=\"message\"></b-form-textarea>\n                            <div class=\"card-footer text-center\">\n                            <a\n                             @click=\"validateFields\"\n                            class=\"btn btn-info text-white btn-round btn-lg btn-block\"\n                            >Send</a>\n                            </div> \n                        </Card> \n                    </div>\n                </div>\n            </div>\n            <div class = \"row\"> \n                <div class = \"col\">\n                    <b-alert variant=\"danger\" v-model=\"warning\" dismissible>\n                        <div class=\"alert-icon\">\n                        <i class=\"now-ui-icons objects_support-17\"></i>\n                        </div>\n                        <strong>Something went wrong!</strong> {{ message }}\n                    </b-alert>\n                </div>\n            </div>\n            <div class = \"row\"> \n                <div class = \"col\">\n                    <b-alert variant=\"success\" v-model=\"success\" dismissible>\n                        <div class=\"alert-icon\">\n                        <i class=\"now-ui-icons objects_support-17\"></i>\n                        </div>\n                        <strong>Thank you for contacting us!</strong>\n                    </b-alert>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios'\nimport { Card, Button, Alert, FormGroupInput } from '@/components'\nexport default {\n    name: 'contact-page',\n    bodyClass: 'contact-page',\n    components: {\n        Card,\n        Alert,\n        [Button.name]: Button,\n        [FormGroupInput.name]: FormGroupInput\n  },\n\n  data() {\n      return {\n        userPayload: {\n            name: \"\",\n            email: \"\",\n            message: \"\",\n        },\n        warning: false,\n        success: false,\n        message: '',\n      }\n  },\n\n  methods: {\n\n      validateFields() {\n          if(this.userPayload.name == \"\" || this.userPayload.email == \"\"|| this.userPayload.message == \"\") {\n              this.message = \"Please Fill Required Fields\";\n              this.warning = true;\n          } else if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,5})+$/.test(this.userPayload.email))) {\n              this.message = \"Please enter a valid email address\";\n              this.warning = true;\n          }\n          else {\n              this.sendMessage();\n          }\n      },\n\n      sendMessage() {\n          this.success = true;\n          axios.post('https://us-central1-sparc-9d9cb.cloudfunctions.net/sendContact', {\n              name: this.userPayload.name,\n              dest: this.userPayload.email,\n              message: this.userPayload.message,\n          }).then(() => {\n              console.log(\"Contact Transaction Success\");\n              this.saveMessage();\n          }).catch((err) => {\n              console.log(err);\n          })\n      },\n\n      saveMessage() {\n        var today = new Date();\n        var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\n        var time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n        var dateTime = date+' '+time;\n        const payload = {\n            ...this.userPayload,\n            dateTime\n        }\n        firebase.database().ref('messages').push(payload).then(event => {\n          }).catch((err) => {\n              console.log(err);\n          });\n      }\n  }\n    \n}\n</script>\n<style scoped>\n    .contact-card {\n        margin-top: 100px;\n    }\n\n    .message-box {\n        height: 100px;\n        background-color: whitesmoke;\n        border-radius: 25px;\n        text-indent: 20px;\n    }\n\n</style>\n"]}]}