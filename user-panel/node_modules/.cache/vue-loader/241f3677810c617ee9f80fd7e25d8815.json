{"remainingRequest":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/src/pages/Events.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/src/pages/Events.vue","mtime":1569535967140},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#top {\n  margin-top: -70px;\n}\n.select {\n  max-height: 35px !important;\n}\n.image-class {\n  border-radius: 50%;\n}\n.hide {\n  display: none;\n}\n",{"version":3,"sources":["Events.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Events.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <div class=\"main\">\n      <div class=\"section section-images\">\n        <div class=\"container\" id=\"top\">\n          <div class=\"col-md-12\">\n            <div class=\"row text-center\">\n              <div class=\"col-md-12\">\n                <h2 class=\"text-center ml-3 title title-up mb-5\">All Engagements</h2>\n              </div>\n\n            </div>\n            <div class=\"row mb-5\">\n              <div class=\"col-md-3\">\n                <label for=\"typeFilter\" class=\"text-success\"><b>Search By Type</b></label>\n                <select class=\"form-control select\" v-model=\"typeFilter\" @change=\"getType\">\n                  <option value=\"\">Select Type</option>\n                  <option value=\"virtual\">Virtual</option>\n                  <option value=\"in Person\">In Person</option>\n                  <option value=\"both\">Both</option>\n                </select>\n              </div>\n              <div class=\"col-md-3\">\n                <label for=\"\" class=\"text-success\"><b>Search By Date</b></label>\n                <fg-input>\n                  <el-date-picker\n                      type=\"date\"\n                      popper-class=\"date-picker date-picker-success\"\n                      placeholder=\"Select Date\"\n                      v-model=\"dateFilter\"\n                      @change=\"getDate\"\n                  >\n                  </el-date-picker>\n                </fg-input>\n              </div>\n              <div class=\"col-md-3\">\n                <label for=\"\" class=\"text-success\"><b>Search By Location</b></label>\n                 <fg-input placeholder=\"Enter Location\" v-model=\"locationFilter\" @input=\"getLocation\"></fg-input>\n              </div>\n              <div class=\"col-md-3\">\n                <label for=\"\" class=\"text-success\"><b>Search By Tags</b></label>\n                 <fg-input placeholder=\"Enter Tags\" v-model=\"tagFilter\" @input=\"getEventsByTag\"></fg-input>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-md-4\" v-for=\"(event, index) in filtered\" :key=\"index\">\n                <div>\n                <div class=\"card\" style=\"cursor: pointer\">\n                  <div class=\"card-header\">\n                    <img v-if=\"event.event_image != null\" :src=\"event.event_image\" class=\"lizzet_image\" alt=\"\" @click=\"viewEvent(event.id)\">\n                    <img v-else src=\"../../public/sparcS.png\" class=\"lizzet_image\" alt=\"\" @click=\"viewEvent(event.id)\">\n                    <div class=\"text-success pull-right mt-4 mr-3\" v-clipboard=\"() => url+''+event.id\" v-clipboard:success=\"clipboardSuccessHandler\"><b><i class=\"fa fa-copy\"></i></b></div>\n                  </div>\n                  <div class=\"card-body\" style= \"height:200px; position:relative;\" @click=\"viewEvent(event.id)\">\n                    <h5 class=\"text-success title-up\"><b> {{ event.event_name }} </b></h5>\n                    <h6 class=\"text-info\"> <i class =\"fa fa-map-marker\"></i> {{ event.event_location }}</h6>\n                    <h6 class=\"text-info\"> <i class=\"fa fa-clock-o\"></i> {{ event.start_time + \" - \" + event.end_time }} </h6>\n                    <h6 class=\"text-info\"> <i class=\"fa fa-calendar\"></i> {{ event.date }}</h6>\n                    <h6> <star-rating :rating=\"getRatings(event.created_by)\" :increment=\"0.1\" :star-size=\"16\" :read-only=\"true\"></star-rating></h6>\n                    <h6 class=\"text-success pull-right\"> <img class=\"image-class\" width=\"30\" height=\"30\" :src=\"getUser(event.created_by).profile_image\" alt=\"\"> {{ getUser(event.created_by).first_name + \" \" + getUser(event.created_by).last_name[0] + \".\" }}</h6>\n                    <!-- <h6>{{event.tags}}</h6> -->\n\n                  </div>\n                </div>\n                </div>\n              </div>\n              <div class=\"col-md-4\" v-if=\"filters.length <= 0\">\n                  <h5 class=\"text-danger title-up\">Sorry! No Engagement Found</h5>\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Parallax, FormGroupInput } from '@/components';\nimport { DatePicker } from 'element-ui';\nimport { mapGetters, mapActions } from 'vuex'\nimport nativeToast from 'native-toast'\nexport default {\n  name: 'events',\n  bodyClass: 'events-page',\n  components: {\n    Parallax,\n    [FormGroupInput.name]: FormGroupInput,\n    [DatePicker.name]: DatePicker,\n    [FormGroupInput.name]: FormGroupInput,\n  },\n  data() {\n    return {\n      rating: 5,\n      url: window.location.href+\"/\",\n        typeFilter: '',\n        dateFilter: '',\n        locationFilter: '',\n        filters: [],\n        userName: '',\n        data_name: '',\n        getUsers: [],\n        filterEvents: [],\n        tagFilter: null,\n        currentDate: null\n    }\n  },\n  computed: {\n    ...mapGetters(['getEvents', 'allUsers', 'allTags', 'allRatings']),\n\n    getFiltered() {\n      this.filterEvents = [];\n      let event = this.filters.filter(event => Date.parse(this.currentDate) <= Date.parse(event.date))\n      return event\n    },\n    filtered() {\n      let event = this.getFiltered.filter(event => event.deleted === false)\n      return event\n    }\n  },\n  methods: {\n    ...mapActions(['fetchEvents', 'fetchAllUsers', 'fetchTags']),\n\n    viewEvent(id) {\n      this.$router.push('/events/'+id)\n    },\n    clipboardSuccessHandler({ value, event }) {\n        console.log('success', value)\n\n        nativeToast({\n          message: 'Link Copied to Clipboard',\n          position: 'north-east',\n          // Self destroy in 5 seconds\n          timeout: 3000,\n          type: 'success'\n        })\n    },\n    getType(e) {\n      if(e.target.options.selectedIndex > 0) {\n        console.log(this.typeFilter)\n        this.filters = this.getEvents.filter(el => {\n          return el.event_type == this.typeFilter\n        })\n      }\n      else {\n        this.filters = this.getEvents\n      }\n    },\n    getDate() {\n      if(this.dateFilter == null) {\n        this.filters = this.getEvents\n      }\n      else {\n        this.dateFilter = this.dateFilter.toLocaleDateString()\n        console.log('Date ' + this.dateFilter)\n        this.filters = this.getEvents.filter(el => {\n          return el.date == this.dateFilter\n        })\n      }\n    },\n    getLocation() {\n      if(this.locationFilter == null) {\n        this.filters = this.getEvents\n      }\n      else {\n        this.filters = this.getEvents.filter(el => {\n          return el.event_location.toLowerCase().includes(this.locationFilter.toLowerCase())\n        })\n      }\n    },\n    getEventsByTag() {\n      if(this.tagFilter == null || this.tagFilter == '') {\n        this.filters = this.getEvents\n      }\n      else {\n         let obj=this.allTags.find(tag_item=>tag_item.value.toLowerCase().includes(this.tagFilter.toLowerCase()))\n          console.log(obj)\n          //compare with all events that have that id\n          if(obj) {\n          let arrs=this.getEvents.filter(event_item=>event_item.tags.includes(obj.id))\n          return this.filters=arrs\n          }\n          else {\n            return this.filters=[]\n          }\n      }\n    },\n    getRatings(id) {\n      let avgRating = [];\n      this.allRatings.filter(rating => {\n        if(rating.host_id == id) {\n          avgRating.push(rating.ratingStars)\n        }\n      })\n\n      if(avgRating.length > 0) {\n        let sum = 0.0;\n        let avg = 0.0;\n\n        for(var i = 0; i < avgRating.length; i++) {\n          sum += avgRating[i]\n        }\n        avg = sum / avgRating.length;\n        return avg\n      }\n    },\n    getUser(id) {\n      let user_item = this.getUsers.find(user => user.id === id)\n        return user_item\n    },\n  },\n  created() {\n    var today = new Date();\n    var dd = today.getDate();\n    var mm = today.getMonth() + 1;\n    var yyyy = today.getFullYear();\n\n    this.currentDate = mm + \"/\" + dd + \"/\" + yyyy;\n\n    this.fetchEvents();\n    this.filters = []\n    this.filters = this.getEvents\n    this.fetchAllUsers();\n    this.getUsers = []\n    this.getUsers = this.allUsers\n    this.fetchTags();\n  }\n};\n</script>\n<style>\n  #top {\n    margin-top: -70px;\n  }\n  .select {\n    max-height: 35px !important;\n  }\n  .image-class {\n    border-radius: 50%;\n  }\n  .hide {\n    display: none;\n  }\n</style>\n"]}]}