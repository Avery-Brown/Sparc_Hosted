{"remainingRequest":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/babel-loader/lib/index.js!/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/src/pages/Host.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/src/pages/Host.vue","mtime":1569707119062},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":1569707114692},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/babel-loader/lib/index.js","mtime":1569707114271},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":1569707114692},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js","mtime":1569707118667}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.find\";\nimport _defineProperty from \"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions } from 'vuex';\nimport { Modal } from '@/components';\nexport default {\n  name: 'host',\n  components: {\n    Modal: Modal\n  },\n  data: function data() {\n    return {\n      events: [],\n      userEvents: [],\n      hostedEvents: [],\n      rating: 5,\n      delModal: false,\n      eventName: null,\n      eventId: null\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['getEvents', 'allRatings']), {\n    getSelectedEvents: function getSelectedEvents() {\n      var _this = this;\n\n      return this.userEvents.map(function (event_id) {\n        var event_item = _this.getEvents.find(function (event_item) {\n          return event_item.id == event_id;\n        });\n\n        return event_item;\n      });\n    },\n    filterEvents: function filterEvents() {\n      var event = this.getSelectedEvents.filter(function (item) {\n        return item.deleted === false;\n      });\n      return event;\n    }\n  }),\n  methods: _objectSpread({}, mapActions(['eventDelete', 'fetchEvents', 'fetchRatings', 'fetchAllUsers']), {\n    viewEvent: function viewEvent(id) {\n      this.$router.push({\n        path: '/events/' + id\n      });\n    },\n    deleteEvent: function deleteEvent(id, name) {\n      this.eventName = name;\n      this.eventId = id;\n      this.delModal = true;\n    },\n    deleteNow: function deleteNow() {\n      var _this2 = this;\n\n      console.log(this.eventId);\n      var abc = this.events.find(function (event_item) {\n        return event_item.id == _this2.eventId;\n      }); // console.log(abc)\n\n      this.events.splice(abc, 1);\n      this.eventDelete(this.eventId);\n      this.delModal = false;\n      this.$router.push({\n        path: '/events'\n      });\n    },\n    getRatings: function getRatings(id) {\n      var avgRating = [];\n      this.allRatings.filter(function (rating) {\n        if (rating.host_id == id) {\n          avgRating.push(rating.ratingStars);\n        }\n      });\n\n      if (avgRating.length > 0) {\n        var sum = 0.0;\n        var avg = 0.0;\n\n        for (var i = 0; i < avgRating.length; i++) {\n          sum += avgRating[i];\n        }\n\n        avg = sum / avgRating.length;\n        return avg;\n      }\n    }\n  }),\n  watch: {\n    getEvents: function getEvents() {\n      if (this.getEvents.length > 0) {\n        console.log(this.getSelectedEvents);\n        this.events = this.filterEvents;\n      }\n    }\n  },\n  created: function created() {\n    var loggedUser = JSON.parse(localStorage.getItem('loggedUser'));\n\n    for (var key in loggedUser.events_hosted) {\n      this.userEvents.push(loggedUser.events_hosted[key]);\n    }\n\n    console.log(\"new runner\");\n    this.events = this.filterEvents;\n    console.log(this.getSelectedEvents); //console.log(\"Count \" + loggedUser.events_hosted)\n    // this.userEvents = loggedUser.events_hosted\n    // console.log(\"Events \" + this.userEvents[0])\n  }\n};",{"version":3,"sources":["Host.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n\n    <div class=\"main\">\n      <div class=\"section section-images\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-md-12\">\n                <h2>Your Engagements</h2>\n                <div class=\"row\">\n                  <!-- events -->\n                <div class=\"col-md-4\" v-for=\"(event, index) in events\" :key=\"index\">\n                  <div class=\"card\" style=\"cursor: pointer\">\n                  <div class=\"card-header\" @click=\"viewEvent(event.id)\">\n                    <img v-if=\"event.event_image != null\" :src=\"event.event_image\" class=\"lizzet_image\" alt=\"\">\n                    <img v-else src=\"../../public/sparcS.png\" class=\"lizzet_image\" alt=\"\">\n                  </div>\n                  <div class=\"card-body\" style= \"height:200px; position:relative;\">\n                    <div @click=\"viewEvent(event.id)\">\n                    <h5  class=\"text-success title-up\"><b> {{ event.event_name }} </b></h5>\n                    <h6 class=\"text-info\"> <i class=\"fa fa-map-marker\"></i> {{ event.event_location }}</h6>\n                    <h6 class=\"text-info\"> <i class=\"fa fa-clock-o\"></i> {{ event.start_time + \" - \" + event.end_time }} </h6>\n                    <h6 class=\"text-info\"> <i class=\"fa fa-calendar\"></i> {{ event.date }}</h6>\n                    <h6> <star-rating :rating=\"getRatings(event.created_by)\" :increment=\"0.1\" :star-size=\"16\" :read-only=\"true\"></star-rating></h6>\n                    </div>\n                    <button class=\"btn btn-danger pull-right\" @click=\"deleteEvent(event.id, event.event_name)\">Delete</button>\n                  </div>\n                </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <modal :show.sync=\"delModal\" headerClasses=\"justify-content-center\">\n      <h6 slot=\"header\" class=\"text-center\">Are you sure you want to Delete {{eventName}} ?</h6>\n      <div class=\"row\">\n        <div class=\"col-md-12 text-center\">\n          <button class=\"btn btn-danger mr-3\" @click=\"deleteNow\">Yes, Delete</button>\n          <button class=\"btn btn-info\" @click=\"delModal = false\">No, Cancel</button>\n        </div>\n\n      </div>\n    </modal>\n    </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport { Modal } from '@/components';\nexport default {\n    name: 'host',\n    components: {\n      Modal\n    },\n    data() {\n      return {\n        events:[],\n        userEvents: [],\n        hostedEvents: [],\n        rating: 5,\n        delModal: false,\n        eventName: null,\n        eventId: null\n      }\n    },\n    computed : {\n        ...mapGetters(['getEvents', 'allRatings']),\n        getSelectedEvents() {\n          return this.userEvents.map(event_id=> {\n          let event_item=this.getEvents.find(event_item=>event_item.id==event_id)\n            return event_item\n          })\n        },\n\n      filterEvents() {\n        let event = this.getSelectedEvents.filter(item => item.deleted === false)\n        return event;\n      },\n    },\n    methods: {\n      ...mapActions(['eventDelete', 'fetchEvents', 'fetchRatings', 'fetchAllUsers']),\n      viewEvent(id) {\n        this.$router.push({path: '/events/'+id})\n      },\n      deleteEvent(id, name) {\n        this.eventName = name\n        this.eventId = id\n        this.delModal = true\n      },\n      deleteNow() {\n        console.log(this.eventId)\n        let abc=this.events.find(event_item=>event_item.id==this.eventId)\n        // console.log(abc)\n        this.events.splice(abc, 1);\n\n        this.eventDelete(this.eventId)\n        this.delModal = false\n\n        this.$router.push({path: '/events'})\n      },\n      getRatings(id) {\n      let avgRating = [];\n      this.allRatings.filter(rating => {\n        if(rating.host_id == id) {\n          avgRating.push(rating.ratingStars)\n        }\n      })\n\n      if(avgRating.length > 0) {\n        let sum = 0.0;\n        let avg = 0.0;\n\n        for(var i = 0; i < avgRating.length; i++) {\n          sum += avgRating[i]\n        }\n        avg = sum / avgRating.length;\n        return avg\n      }\n    },\n    },\n    watch:{\n      getEvents(){\n        if(this.getEvents.length>0){\n      console.log(this.getSelectedEvents)\n      this.events=this.filterEvents\n\n\n        }\n      }\n\n    },\n    created() {\n\n      const loggedUser = JSON.parse(localStorage.getItem('loggedUser'));\n      for(var key in loggedUser.events_hosted){\n        this.userEvents.push(loggedUser.events_hosted[key])\n      }\n      console.log(\"new runner\")\n      this.events=this.filterEvents\n\n\n      console.log(this.getSelectedEvents)\n      //console.log(\"Count \" + loggedUser.events_hosted)\n      // this.userEvents = loggedUser.events_hosted\n      // console.log(\"Events \" + this.userEvents[0])\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/pages"}]}