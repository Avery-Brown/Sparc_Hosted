{"remainingRequest":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/babel-loader/lib/index.js!/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/src/pages/CreateEngagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/src/pages/CreateEngagement.vue","mtime":1569422283379},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _TimeSelect2 from \"element-ui/lib/theme-chalk/time-select.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _TimeSelect from \"element-ui/lib/time-select\";\nimport _TimePicker2 from \"element-ui/lib/theme-chalk/time-picker.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _TimePicker from \"element-ui/lib/time-picker\";\nimport _DatePicker2 from \"element-ui/lib/theme-chalk/date-picker.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _DatePicker from \"element-ui/lib/date-picker\";\n\nvar _components;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Button, Alert, Checkbox, Radio, FormGroupInput, Switch } from '@/components';\nimport Multiselect from 'vue-multiselect';\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'create_engagement',\n  components: (_components = {\n    Multiselect: Multiselect,\n    Alert: Alert\n  }, _defineProperty(_components, Button.name, Button), _defineProperty(_components, Checkbox.name, Checkbox), _defineProperty(_components, Radio.name, Radio), _defineProperty(_components, _DatePicker.name, _DatePicker), _defineProperty(_components, _TimePicker.name, _TimePicker), _defineProperty(_components, _TimeSelect.name, _TimeSelect), _defineProperty(_components, FormGroupInput.name, FormGroupInput), _defineProperty(_components, Switch.name, Switch), _defineProperty(_components, Option.name, Option), _components),\n  computed: _objectSpread({}, mapGetters(['allTags', 'eventCreated', 'charities'])),\n  data: function data() {\n    return {\n      file: '',\n      createButton: 'Create Engagement',\n      pickerOptions: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() < Date.now();\n        }\n      },\n      timeValue: {\n        HH: \"10\",\n        mm: \"05\",\n        ss: \"00\"\n      },\n      eventPayload: {\n        created_by: null,\n        event_name: null,\n        charity1: null,\n        charity2: null,\n        deleted: false,\n        event_location: null,\n        event_address: null,\n        event_location_access: null,\n        event_space: null,\n        host_contact: null,\n        zoom_link: null,\n        capacity: null,\n        virtual_capacity: null,\n        google_link: null,\n        event_cause1: null,\n        event_cause2: null,\n        event_price_per_person: null,\n        cause: 'no',\n        event_free: 'yes',\n        event_type: 'in Person',\n        tags: [],\n        date: null,\n        start_time: null,\n        end_time: null,\n        event_description: null,\n        event_image: null,\n        event_video: null\n      },\n      warning: false,\n      message: '',\n      interestId: [],\n      allCharites: []\n    };\n  },\n  methods: _objectSpread({}, mapActions(['fetchTags', 'createEvent', 'fetchCharities', 'updateTags']), {\n    validateEvent: function validateEvent() {\n      if (this.eventPayload.event_name == null || this.eventPayload.event_location == null || this.eventPayload.host_contact == null || this.eventPayload.event_space == null || this.eventPayload.event_address == null || this.eventPayload.event_location_access == null || this.eventPayload.date == null || this.eventPayload.start_time == null || this.eventPayload.end_time == null || this.eventPayload.event_description == null || this.eventPayload.tags == null) {\n        this.message = \"Please Fill Required Fields\";\n        this.warning = true;\n      } else if (this.eventPayload.event_type == 'in Person' && this.eventPayload.capacity == null) {\n        this.message = \"Please Set In Person Capacity for Engagement\";\n        this.warning = true;\n      } else if (this.eventPayload.capacity != null && this.eventPayload.capacity < 1) {\n        this.message = \"Please Set Valid In Person Capacity for Engagement\";\n        this.warning = true;\n      } else if (this.eventPayload.event_type == 'virtual' && (this.eventPayload.zoom_link == null || this.eventPayload.google_link == null)) {\n        this.message = \"Please Enter Zoom Link and Google Hangout Link for Engagement\";\n        this.warning = true;\n      } else if (this.eventPayload.event_type == 'both' && (this.eventPayload.zoom_link == null || this.eventPayload.google_link == null)) {\n        this.message = \"Please Enter Zoom Link and Google Hangout Link for Engagement\";\n        this.warning = true;\n      } else if (this.eventPayload.event_type == 'virtual' && this.eventPayload.virtual_capacity == null) {\n        this.message = \"Please Set Virtual Capacity for Engagement\";\n        this.warning = true;\n      } else if (this.eventPayload.virtual_capacity != null && this.eventPayload.virtual_capacity < 1) {\n        this.message = \"Please Set Valid Virtual Capacity for Engagement\";\n        this.warning = true;\n      } else if (this.eventPayload.event_type == 'both' && (this.eventPayload.capacity == null || this.eventPayload.virtual_capacity == null)) {\n        this.message = \"Both In Person and Virtual Capacity Required\";\n        this.warning = true;\n      } else if (this.eventPayload.event_type == 'both' && this.eventPayload.capacity != null && this.eventPayload.capacity < 1 || this.eventPayload.virtual_capacity != null && this.eventPayload.virtual_capacity < 1) {\n        this.message = \"Valid In Person and Virtual Capacity Required\";\n        this.warning = true;\n      } else if (this.eventPayload.event_free == 'no' && this.eventPayload.event_price_per_person == null) {\n        this.message = \"Please Enter Price Per Person for Engagement\";\n        this.warning = true;\n      } else if (this.eventPayload.event_price_per_person != null && this.eventPayload.event_price_per_person < 1) {\n        this.message = \"Please Enter Price Valid Per Person for Engagement\";\n        this.warning = true;\n      } else if (this.eventPayload.cause == 'yes' && this.eventPayload.charity1 == null) {\n        this.message = \"Please Select Charity 1 for Cause\";\n        this.warning = true;\n      } else if (this.eventPayload.cause == 'yes' && this.eventPayload.event_cause1 == null) {\n        this.message = \"Please Select Cause for Charity\";\n        this.warning = true;\n      } else if (this.eventPayload.charity1 != null && this.eventPayload.event_cause1 < 1) {\n        this.message = \"Please Enter Valid Percentage for Charity 1\";\n        this.warning = true;\n      } else if (this.eventPayload.event_cause1 != null && this.eventPayload.event_cause1 < 1) {\n        this.message = \"Please Select Valid Percentage for Charity 1\";\n        this.warning = true;\n      } else if (this.eventPayload.charity2 != null && this.eventPayload.event_cause2 < 1) {\n        this.message = \"Please Enter Valid Percentage for Charity 2\";\n        this.warning = true;\n      } //   else if(this.eventPayload.event_image == null) {\n      //       this.message = \"Please Pick Event Image\"\n      //       this.warning = true\n      //   }\n      else {\n          console.log(\"OK\");\n          this.registerEvent();\n        }\n    },\n    registerEvent: function registerEvent() {\n      var _this = this;\n\n      this.createButton = \"Creating Engagement Please Wait...\";\n      var newDate = this.eventPayload.date.toLocaleDateString();\n      this.eventPayload.date = newDate;\n\n      if (this.eventPayload.tags != null) {\n        this.eventPayload.tags.forEach(function (item) {\n          _this.interestId.push(item.id);\n        });\n        this.eventPayload.tags.forEach(function (item) {\n          item.count++;\n          console.log(item);\n\n          _this.updateTags(item);\n        });\n      }\n\n      this.eventPayload.tags = this.interestId;\n      this.createEvent(this.eventPayload);\n    },\n    onFileSelected: function onFileSelected(event) {\n      var file = event.target.files[0];\n      this.eventPayload.event_image = file;\n      var extension = file.name.substring(file.name.lastIndexOf('.') + 1);\n    },\n    onVideoSelected: function onVideoSelected(event) {\n      var video = event.target.files[0];\n      this.eventPayload.event_video = video;\n      console.log(this.eventPayload.event_video.name);\n    }\n  }),\n  created: function created() {\n    var loggedUser = JSON.parse(localStorage.getItem('loggedUser'));\n\n    if (loggedUser != null) {\n      this.eventPayload.created_by = loggedUser.id;\n    }\n\n    this.fetchTags();\n    this.fetchCharities();\n  },\n  watch: {\n    eventCreated: function eventCreated(val) {\n      if (val == 'success') {\n        this.$router.push({\n          path: '/host'\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["CreateEngagement.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div class=\"main\">\n            <div class=\"section\">\n                <div class=\"container ml-auto mr-auto\">\n                    <div class=\"col-md-2\"></div>\n                    <div class=\"col-md-12\">\n                        <h2 class=\"text-center title-up text-info\">Create New Engagement</h2>\n                        <div class=\"space-50\"></div>\n                        <div class=\"row\">\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Upload Engagement Featured Image</label>\n                                <input type=\"file\" class=\"btn btn-primary mb-3\" @change=\"onFileSelected\">\n                            </div>\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Upload Engagement Video</label><br/>\n                                <input type=\"file\" class=\"btn btn-primary mb-3\" @change=\"onVideoSelected\">\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-sm-6 col-lg-6\">\n                                <label for=\"\">Engagement Name*</label>\n                                <fg-input placeholder=\"Engagement Name\" v-model=\"eventPayload.event_name\"></fg-input>\n                            </div>\n                            <div class=\"col-sm-6 col-lg-6\">\n                                    <label for=\"\">Engagement Date*</label>\n                                    <fg-input>\n                                    <el-date-picker\n                                        type=\"date\"\n                                        popper-class=\"date-picker date-picker-success\"\n                                        :picker-options=\"pickerOptions\"\n                                        placeholder=\"Pick Engagement Date\"\n                                        v-model=\"eventPayload.date\"\n                                    >\n                                    </el-date-picker>\n                                    </fg-input>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-sm-6 col-lg-6\">\n                                <label for=\"\">Start Time*</label>\n                                <fg-input>\n                                    <!-- <el-time-select\n                                        v-model=\"eventPayload.start_time\"\n                                        :picker-options=\"{\n                                            start: '1:00',\n                                            step: '00:15',\n                                            end: '12:59',\n                                            format: 'HH:mm a'\n                                        }\"\n                                        placeholder=\"Select time\">\n                                        </el-time-select> -->\n                                    <el-time-picker\n                                        type=\"time\"\n                                        value-format=\"hh:mm a\"\n                                        popper-class=\"time-picker time-picker-primary\"\n                                        placeholder=\"Pick Start Time\"\n                                        v-model=\"eventPayload.start_time\"\n                                        :picker-options=\"{\n                                            format: 'HH:mm a',\n                                            \n                                        }\"\n                                    >\n                                    </el-time-picker>\n                                    \n                                    \n                                </fg-input>\n                            </div>\n                            <div class=\"col-sm-6 col-lg-6\">\n                                <label for=\"\">End Time*</label>\n                                <fg-input>\n                                    <el-time-picker\n                                        type=\"time\"\n                                        value-format=\"hh:mm a\"\n                                        popper-class=\"time-picker time-picker-primary\"\n                                        placeholder=\"Pick End Time\"\n                                        v-model=\"eventPayload.end_time\"\n                                        :picker-options=\"{\n                                            format: 'HH:mm a',\n                                            \n                                        }\"\n                                    >\n                                    </el-time-picker>\n                                </fg-input>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Engagement Location*</label>\n                                <fg-input placeholder=\"Engagement Location\" v-model=\"eventPayload.event_location\"></fg-input>\n                            </div>\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Engagement Address*</label>\n                                <fg-input placeholder=\"Engagement Address\" v-model=\"eventPayload.event_address\"></fg-input>\n                            </div>   \n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Space Name/Number*</label>\n                                <fg-input placeholder=\"Space Name/Number(Lobby of Hotel)\" v-model=\"eventPayload.event_space\"></fg-input>\n                            </div>\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Location Access Instructions*</label>\n                                <fg-input placeholder=\"Location Access Instructions\" v-model=\"eventPayload.event_location_access\"></fg-input>\n                            </div>   \n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-12 col-lg-12\">\n                                <label for=\"\">Host Contact Information*</label>\n                                <fg-input placeholder=\"Host Contact Information\" v-model=\"eventPayload.host_contact\"></fg-input>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-12 col-lg-12\">\n                                <label for=\"\">Engagement Description*</label>\n                                <fg-input placeholder=\"Engagement Description\" v-model=\"eventPayload.event_description\"></fg-input>\n                            </div>\n                        </div>\n                        <div class=\"row mb-2\">\n                            <div class=\"col-md-12 col-lg-12\">\n                                <label for=\"\">Engagement Tags*</label>\n                                <multiselect v-model=\"eventPayload.tags\" \n                                :options=\"allTags\" \n                                :multiple=\"true\" \n                                :close-on-select=\"false\" \n                                :clear-on-select=\"false\" \n                                :preserve-search=\"true\" \n                                placeholder=\"Pick Engagement Tags\" \n                                label=\"value\" \n                                track-by=\"value\" \n                                :preselect-first=\"false\">\n                                    <template slot=\"selection\" slot-scope=\"{ values, search, isOpen }\"><span class=\"multiselect__single\" v-if=\"values.length &amp;&amp; !isOpen\">{{ values.length }} options selected</span></template>\n                                </multiselect>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-12 col-lg-12\">\n                                <label for=\"\" class=\"mb-3\">Is Engagement virtual, in person, or both ?</label><br>\n                                <input type=\"radio\" v-model=\"eventPayload.event_type\" value=\"virtual\"> Virtual\n                                <input type=\"radio\" v-model=\"eventPayload.event_type\" value=\"in Person\"> In Person\n                                <input type=\"radio\" v-model=\"eventPayload.event_type\" value=\"both\"> Both   \n                            </div>\n                        </div>\n                        <div class=\"row mt-3\" v-if=\"eventPayload.event_type == 'in Person'\">\n                            <div class=\"col-md-12 col-lg-12\">\n                                <label for=\"\">People Capacity*</label>\n                                <fg-input type=\"number\" min=\"1\" placeholder=\"Capacity\" v-model=\"eventPayload.capacity\"></fg-input>\n                            </div>\n                        </div>\n                        <div class=\"row mt-3\" v-if=\"eventPayload.event_type == 'virtual'\">\n                            <div class=\"col-md-12 col-lg-12\">\n                                <label for=\"\">People Capacity*</label>\n                                <fg-input type=\"number\" min=\"1\" placeholder=\"Capacity\" v-model=\"eventPayload.virtual_capacity\"></fg-input>\n                            </div>\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Zoom Link*</label>\n                                <fg-input placeholder=\"Zoom Link\" v-model=\"eventPayload.zoom_link\"></fg-input>\n                            </div>\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Google Hangout Link*</label>\n                                <fg-input placeholder=\"Google Hangout Link\" v-model=\"eventPayload.google_link\"></fg-input>\n                            </div>\n                        </div>\n                        <div class=\"row mt-3\" v-if=\"eventPayload.event_type == 'both'\">\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">In Person Capacity*</label>\n                                <fg-input type=\"number\" min=\"1\" placeholder=\"In Person Capacity\" v-model=\"eventPayload.capacity\"></fg-input>\n                            </div>\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Virtual Capacity*</label>\n                                <fg-input type=\"number\" min=\"1\" placeholder=\"Virtual Capacity\" v-model=\"eventPayload.virtual_capacity\"></fg-input>\n                            </div>\n\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Zoom Link*</label>\n                                <fg-input placeholder=\"Zoom Link\" v-model=\"eventPayload.zoom_link\"></fg-input>\n                            </div>\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Google Hangout Link*</label>\n                                <fg-input placeholder=\"Google Hangout Link\" v-model=\"eventPayload.google_link\"></fg-input>\n                            </div>\n                        </div>\n                        <div class=\"row mt-3\">\n                            <div class=\"col-md-6 col-lg-6\">\n                                <label for=\"\">Will this Engagement be Free ?</label> <br>\n                                <input type=\"radio\" v-model=\"eventPayload.event_free\" value=\"yes\"> Yes\n                                <input type=\"radio\" v-model=\"eventPayload.event_free\" value=\"no\"> No\n                            </div>\n                        </div>\n                        <div class=\"row mt-2\" v-if=\"eventPayload.event_free == 'no'\">\n                            <div class=\"col-md-12 col-lg-12\">\n                                <label for=\"\">$ Price Per Person*</label>\n                                <fg-input placeholder=\"$ Price Per Person\" type=\"number\" min=\"1\" v-model=\"eventPayload.event_price_per_person\"></fg-input>\n                            </div>\n                            <div class=\"col-md-12 col-lg-12 mb-2\">\n                                <label for=\"\">Will this Engagement go to a cause ?</label> <br>\n                                <input type=\"radio\" v-model=\"eventPayload.cause\" value=\"yes\"> Yes\n                                <input type=\"radio\" v-model=\"eventPayload.cause\" value=\"no\"> No\n                            </div>\n                            <div class=\"col-md-3\" v-if=\"eventPayload.cause == 'yes'\">\n                                <label for=\"\">Select Charity*</label>\n                                <select class=\"form-control select\" placeholder=\"Select Charity\" v-model=\"eventPayload.charity1\">\n                                    <option v-for=\"(charity, i) in charities\" :key=\"i\" :value=\"charity.id\">{{charity.name}}</option>  \n                                </select>\n                            </div>\n                            <div class=\"col-md-3\" v-if=\"eventPayload.cause == 'yes'\">\n                                <label for=\"\">Charity 1*</label>\n                                <fg-input placeholder=\"Percentage\" type=\"number\" min=\"1\" v-model=\"eventPayload.event_cause1\"></fg-input>\n                            </div>\n                            <div class=\"col-md-3\" v-if=\"eventPayload.cause == 'yes'\">\n                                <label for=\"\">Select Charity</label>\n                                <select class=\"form-control select\" v-model=\"eventPayload.charity2\">\n                                    <option v-for=\"(charity, i) in charities\" :key=\"i\" :value=\"charity.id\">{{charity.name}}</option>\n                                </select>\n                            </div>\n                            <div class=\"col-md-3\" v-if=\"eventPayload.cause == 'yes'\">\n                                <label for=\"\">Charity 2 (Optional)</label>\n                                <fg-input placeholder=\"Percentage\" type=\"number\" min=\"1\" v-model=\"eventPayload.event_cause2\"></fg-input>\n                            </div>    \n                        </div>\n                        <div class=\"row col-md-12 col-lg-12\">\n                            <n-button class=\"btn btn-primary btn-block ml-3 mt-3\" round @click=\"validateEvent\">{{ createButton }}</n-button>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-12\">\n                                <alert type=\"danger\" v-if=\"warning\" dismissible>\n                                    <div class=\"alert-icon\">\n                                    <i class=\"now-ui-icons objects_support-17\"></i>\n                                    </div>\n                                    <strong>Something went wrong!</strong> {{ message }}\n                                </alert>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {\n  Button,\n  Alert,\n  Checkbox,\n  Radio,\n  FormGroupInput,\n  Switch\n} from '@/components';\nimport { DatePicker, TimePicker, TimeSelect } from 'element-ui';\nimport Multiselect from 'vue-multiselect'\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n    name: 'create_engagement',\n    components: {\n        Multiselect,\n        Alert,\n    [Button.name]: Button,\n    [Checkbox.name]: Checkbox,\n    [Radio.name]: Radio,\n    [DatePicker.name]: DatePicker,\n    [TimePicker.name]: TimePicker,\n    [TimeSelect.name]: TimeSelect,\n    [FormGroupInput.name]: FormGroupInput,\n    [Switch.name]: Switch,\n    [Option.name]: Option,\n  },\n  computed: { ...mapGetters(['allTags', 'eventCreated', 'charities'])},\n  data() {\n      return {\n          file: '',\n          createButton: 'Create Engagement',\n          pickerOptions: {\n            disabledDate(time) {\n                return time.getTime() < Date.now();\n            },\n          },\n          timeValue: {\n            HH: \"10\",\n            mm: \"05\",\n            ss: \"00\"\n        },\n        eventPayload: {\n            created_by: null,\n            event_name: null,\n            charity1: null,\n            charity2: null,\n            deleted: false,\n            event_location: null,\n            event_address: null,\n            event_location_access: null,\n            event_space: null,\n            host_contact: null,\n            zoom_link: null,\n            capacity: null,\n            virtual_capacity: null,\n            google_link: null,\n            event_cause1: null,\n            event_cause2: null,\n            event_price_per_person: null,\n            cause: 'no',\n            event_free: 'yes',\n            event_type: 'in Person',\n            tags: [],\n            date: null,\n            start_time: null,\n            end_time: null,    \n            event_description: null,\n            event_image: null,\n            event_video: null,\n        },\n        warning: false,\n        message: '',\n        interestId: [],\n        allCharites: []\n      }\n  },\n  methods: {\n      ...mapActions(['fetchTags','createEvent', 'fetchCharities', 'updateTags']),\n\n      validateEvent() {\n          \n          if(this.eventPayload.event_name == null || this.eventPayload.event_location == null || this.eventPayload.host_contact == null || this.eventPayload.event_space == null || this.eventPayload.event_address == null || this.eventPayload.event_location_access == null || this.eventPayload.date == null || this.eventPayload.start_time == null || this.eventPayload.end_time == null || this.eventPayload.event_description == null || this.eventPayload.tags == null){\n              this.message = \"Please Fill Required Fields\"\n              this.warning = true\n          }\n          else if(this.eventPayload.event_type == 'in Person' && this.eventPayload.capacity == null) {\n              this.message = \"Please Set In Person Capacity for Engagement\"\n              this.warning = true\n          }\n          else if(this.eventPayload.capacity != null && this.eventPayload.capacity < 1) {\n              this.message = \"Please Set Valid In Person Capacity for Engagement\"\n              this.warning = true\n          }\n          else if(this.eventPayload.event_type == 'virtual' && (this.eventPayload.zoom_link == null || this.eventPayload.google_link == null)) {\n              this.message = \"Please Enter Zoom Link and Google Hangout Link for Engagement\"\n              this.warning = true\n          }\n          else if(this.eventPayload.event_type == 'both' && (this.eventPayload.zoom_link == null || this.eventPayload.google_link == null)) {\n              this.message = \"Please Enter Zoom Link and Google Hangout Link for Engagement\"\n              this.warning = true\n          }\n          else if(this.eventPayload.event_type == 'virtual' && this.eventPayload.virtual_capacity == null) {\n              this.message = \"Please Set Virtual Capacity for Engagement\"\n              this.warning = true\n          }\n          else if(this.eventPayload.virtual_capacity != null && this.eventPayload.virtual_capacity < 1) {\n              this.message = \"Please Set Valid Virtual Capacity for Engagement\"\n              this.warning = true\n          }\n          else if(this.eventPayload.event_type == 'both' && (this.eventPayload.capacity == null || this.eventPayload.virtual_capacity == null )) {\n              this.message = \"Both In Person and Virtual Capacity Required\"\n              this.warning = true\n          }\n          else if(this.eventPayload.event_type == 'both' && (this.eventPayload.capacity != null && this.eventPayload.capacity < 1) || (this.eventPayload.virtual_capacity != null && this.eventPayload.virtual_capacity < 1)) {\n              this.message = \"Valid In Person and Virtual Capacity Required\"\n              this.warning = true\n          }\n          else if(this.eventPayload.event_free == 'no' && this.eventPayload.event_price_per_person == null) {\n              this.message = \"Please Enter Price Per Person for Engagement\"\n              this.warning = true\n          }\n          else if(this.eventPayload.event_price_per_person != null && this.eventPayload.event_price_per_person < 1) {\n              this.message = \"Please Enter Price Valid Per Person for Engagement\"\n              this.warning = true\n          }\n          else if(this.eventPayload.cause == 'yes' && this.eventPayload.charity1 == null) {\n              this.message = \"Please Select Charity 1 for Cause\"\n              this.warning = true\n          }\n          else if(this.eventPayload.cause == 'yes' && this.eventPayload.event_cause1 == null) {\n              this.message = \"Please Select Cause for Charity\"\n              this.warning = true\n          }\n          else if(this.eventPayload.charity1 != null && this.eventPayload.event_cause1 < 1) {\n              this.message = \"Please Enter Valid Percentage for Charity 1\"\n              this.warning = true\n          }\n          else if(this.eventPayload.event_cause1 != null && this.eventPayload.event_cause1 < 1) {\n              this.message = \"Please Select Valid Percentage for Charity 1\"\n              this.warning = true\n          }\n          else if(this.eventPayload.charity2 != null && this.eventPayload.event_cause2 < 1) {\n              this.message = \"Please Enter Valid Percentage for Charity 2\"\n              this.warning = true\n          }\n        //   else if(this.eventPayload.event_image == null) {\n        //       this.message = \"Please Pick Event Image\"\n        //       this.warning = true\n        //   }\n          else {\n              console.log(\"OK\")\n              this.registerEvent();\n          }\n      },\n\n      registerEvent() {\n          this.createButton = \"Creating Engagement Please Wait...\"\n          const newDate = this.eventPayload.date.toLocaleDateString()\n          this.eventPayload.date = newDate\n\n            if(this.eventPayload.tags != null) {\n                this.eventPayload.tags.forEach(item => {\n                this.interestId.push(item.id)\n                })\n                this.eventPayload.tags.forEach(item => {\n                    item.count++\n                    console.log(item)\n                    this.updateTags(item)\n                })\n            }\n\n          this.eventPayload.tags = this.interestId\n\n          this.createEvent(this.eventPayload);\n         \n      },\n      onFileSelected(event) {\n          let file = event.target.files[0]\n          this.eventPayload.event_image = file\n          var extension = file.name.substring(file.name.lastIndexOf('.')+1);\n      },\n      onVideoSelected(event) {\n          let video = event.target.files[0];\n          this.eventPayload.event_video = video\n          console.log(this.eventPayload.event_video.name);\n      }\n  },\n  created() {\n    const loggedUser = JSON.parse(localStorage.getItem('loggedUser'));\n    if(loggedUser != null) {\n        this.eventPayload.created_by = loggedUser.id\n    }\n    this.fetchTags();\n    this.fetchCharities()\n  },\n\n  watch: {\n      eventCreated(val) {\n          if(val == 'success') {\n              this.$router.push({path: '/host'})\n          }\n      }\n  }\n}\n</script>\n\n<style scoped>\n    \n</style>\n"],"sourceRoot":"src/pages"}]}