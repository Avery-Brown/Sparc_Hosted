{"remainingRequest":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/babel-loader/lib/index.js!/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/src/pages/Contact.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/src/pages/Contact.vue","mtime":1569423412250},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/ericlin/Documents/Duke/Junior/Fall/CS408/Sparc_Hosted/user-panel/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nvar _components;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { Card, Button, Alert, FormGroupInput } from '@/components';\nexport default {\n  name: 'contact-page',\n  bodyClass: 'contact-page',\n  components: (_components = {\n    Card: Card,\n    Alert: Alert\n  }, _defineProperty(_components, Button.name, Button), _defineProperty(_components, FormGroupInput.name, FormGroupInput), _components),\n  data: function data() {\n    return {\n      userPayload: {\n        name: \"\",\n        email: \"\",\n        message: \"\"\n      },\n      warning: false,\n      success: false,\n      message: ''\n    };\n  },\n  methods: {\n    validateFields: function validateFields() {\n      if (this.userPayload.name == \"\" || this.userPayload.email == \"\" || this.userPayload.message == \"\") {\n        this.message = \"Please Fill Required Fields\";\n        this.warning = true;\n      } else if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,5})+$/.test(this.userPayload.email)) {\n        this.message = \"Please enter a valid email address\";\n        this.warning = true;\n      } else {\n        this.sendMessage();\n      }\n    },\n    sendMessage: function sendMessage() {\n      var _this = this;\n\n      this.success = true;\n      axios.post('https://us-central1-sparc-9d9cb.cloudfunctions.net/sendContact', {\n        name: this.userPayload.name,\n        dest: this.userPayload.email,\n        message: this.userPayload.message\n      }).then(function () {\n        console.log(\"Contact Transaction Success\");\n\n        _this.saveMessage();\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    saveMessage: function saveMessage() {\n      var today = new Date();\n      var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n      var time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n      var dateTime = date + ' ' + time;\n\n      var payload = _objectSpread({}, this.userPayload, {\n        dateTime: dateTime\n      });\n\n      firebase.database().ref('messages').push(payload).then(function (event) {}).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }\n};",{"version":3,"sources":["Contact.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,IAAA,EAAA,MAAA,EAAA,KAAA,EAAA,cAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,SAAA,EAAA,cAFA;AAGA,EAAA,UAAA;AACA,IAAA,IAAA,EAAA,IADA;AAEA,IAAA,KAAA,EAAA;AAFA,kCAGA,MAAA,CAAA,IAHA,EAGA,MAHA,gCAIA,cAAA,CAAA,IAJA,EAIA,cAJA,eAHA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OADA;AAMA,MAAA,OAAA,EAAA,KANA;AAOA,MAAA,OAAA,EAAA,KAPA;AAQA,MAAA,OAAA,EAAA;AARA,KAAA;AAUA,GArBA;AAuBA,EAAA,OAAA,EAAA;AAEA,IAAA,cAFA,4BAEA;AACA,UAAA,KAAA,WAAA,CAAA,IAAA,IAAA,EAAA,IAAA,KAAA,WAAA,CAAA,KAAA,IAAA,EAAA,IAAA,KAAA,WAAA,CAAA,OAAA,IAAA,EAAA,EAAA;AACA,aAAA,OAAA,GAAA,6BAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA,OAHA,MAGA,IAAA,CAAA,gDAAA,IAAA,CAAA,KAAA,WAAA,CAAA,KAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,oCAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA,OAHA,MAIA;AACA,aAAA,WAAA;AACA;AACA,KAbA;AAeA,IAAA,WAfA,yBAeA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,gEAAA,EAAA;AACA,QAAA,IAAA,EAAA,KAAA,WAAA,CAAA,IADA;AAEA,QAAA,IAAA,EAAA,KAAA,WAAA,CAAA,KAFA;AAGA,QAAA,OAAA,EAAA,KAAA,WAAA,CAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,6BAAA;;AACA,QAAA,KAAA,CAAA,WAAA;AACA,OAPA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OATA;AAUA,KA3BA;AA6BA,IAAA,WA7BA,yBA6BA;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,WAAA,KAAA,GAAA,IAAA,KAAA,CAAA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,KAAA,CAAA,OAAA,EAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,QAAA,KAAA,GAAA,GAAA,KAAA,CAAA,UAAA,EAAA,GAAA,GAAA,GAAA,KAAA,CAAA,UAAA,EAAA;AACA,UAAA,QAAA,GAAA,IAAA,GAAA,GAAA,GAAA,IAAA;;AACA,UAAA,OAAA,qBACA,KAAA,WADA;AAEA,QAAA,QAAA,EAAA;AAFA,QAAA;;AAIA,MAAA,QAAA,CAAA,QAAA,GAAA,GAAA,CAAA,UAAA,EAAA,IAAA,CAAA,OAAA,EAAA,IAAA,CAAA,UAAA,KAAA,EAAA,CACA,CADA,EACA,KADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAHA;AAIA;AA1CA;AAvBA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class = \"main\">\n            <div class = \"row\">\n                <div class = \"container\">\n                    <div class=\"col-md-6 ml-auto mr-auto\"> \n                        <Card class=\"contact-card\"> \n                            <h3 class=\"text-center text-info\"><b>Send Us a Message</b></h3>\n                            <fg-input class=\"no-border input-lg\" addon-left-icon=\"now-ui-icons emoticons_satisfied\" placeholder=\"Name\" v-model=\"userPayload.name\" type=\"name\"></fg-input>\n                            <fg-input class=\"no-border input-lg\" addon-left-icon=\"now-ui-icons ui-1_email-85\" placeholder=\"Email\" v-model=\"userPayload.email\" type=\"email\"></fg-input>\n                            <b-form-textarea class=\"message-box input-lg\" placeholder=\"Message\" v-model=\"userPayload.message\" type=\"message\"></b-form-textarea>\n                            <div class=\"card-footer text-center\">\n                            <a\n                             @click=\"validateFields\"\n                            class=\"btn btn-info text-white btn-round btn-lg btn-block\"\n                            >Send</a>\n                            </div> \n                        </Card> \n                    </div>\n                </div>\n            </div>\n            <div class = \"row\"> \n                <div class = \"col\">\n                    <b-alert variant=\"danger\" v-model=\"warning\" dismissible>\n                        <div class=\"alert-icon\">\n                        <i class=\"now-ui-icons objects_support-17\"></i>\n                        </div>\n                        <strong>Something went wrong!</strong> {{ message }}\n                    </b-alert>\n                </div>\n            </div>\n            <div class = \"row\"> \n                <div class = \"col\">\n                    <b-alert variant=\"success\" v-model=\"success\" dismissible>\n                        <div class=\"alert-icon\">\n                        <i class=\"now-ui-icons objects_support-17\"></i>\n                        </div>\n                        <strong>Thank you for contacting us!</strong>\n                    </b-alert>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios'\nimport { Card, Button, Alert, FormGroupInput } from '@/components'\nexport default {\n    name: 'contact-page',\n    bodyClass: 'contact-page',\n    components: {\n        Card,\n        Alert,\n        [Button.name]: Button,\n        [FormGroupInput.name]: FormGroupInput\n  },\n\n  data() {\n      return {\n        userPayload: {\n            name: \"\",\n            email: \"\",\n            message: \"\",\n        },\n        warning: false,\n        success: false,\n        message: '',\n      }\n  },\n\n  methods: {\n\n      validateFields() {\n          if(this.userPayload.name == \"\" || this.userPayload.email == \"\"|| this.userPayload.message == \"\") {\n              this.message = \"Please Fill Required Fields\";\n              this.warning = true;\n          } else if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,5})+$/.test(this.userPayload.email))) {\n              this.message = \"Please enter a valid email address\";\n              this.warning = true;\n          }\n          else {\n              this.sendMessage();\n          }\n      },\n\n      sendMessage() {\n          this.success = true;\n          axios.post('https://us-central1-sparc-9d9cb.cloudfunctions.net/sendContact', {\n              name: this.userPayload.name,\n              dest: this.userPayload.email,\n              message: this.userPayload.message,\n          }).then(() => {\n              console.log(\"Contact Transaction Success\");\n              this.saveMessage();\n          }).catch((err) => {\n              console.log(err);\n          })\n      },\n\n      saveMessage() {\n        var today = new Date();\n        var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\n        var time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n        var dateTime = date+' '+time;\n        const payload = {\n            ...this.userPayload,\n            dateTime\n        }\n        firebase.database().ref('messages').push(payload).then(event => {\n          }).catch((err) => {\n              console.log(err);\n          });\n      }\n  }\n    \n}\n</script>\n<style scoped>\n    .contact-card {\n        margin-top: 100px;\n    }\n\n    .message-box {\n        height: 100px;\n        background-color: whitesmoke;\n        border-radius: 25px;\n        text-indent: 20px;\n    }\n\n</style>\n"],"sourceRoot":"src/pages"}]}