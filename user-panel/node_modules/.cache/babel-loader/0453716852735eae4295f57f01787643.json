{"remainingRequest":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/babel-loader/lib/index.js!/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/src/pages/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/src/pages/Profile.vue","mtime":1569534651400},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":1569707114692},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/babel-loader/lib/index.js","mtime":1569707114271},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/cache-loader/dist/cjs.js","mtime":1569707114692},{"path":"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/vue-loader/lib/index.js","mtime":1569707118667}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"/Users/lizzetclifton/Documents/Fall 2019/CS_408/CS408-Sparc/Sparc_Hosted/user-panel/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nvar _components;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Tabs, TabPane, Modal, FormGroupInput, Button } from '@/components';\nimport Multiselect from 'vue-multiselect';\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'profile',\n  bodyClass: 'profile-page',\n  components: (_components = {\n    Tabs: Tabs,\n    Modal: Modal,\n    TabPane: TabPane,\n    Multiselect: Multiselect\n  }, _defineProperty(_components, Button.name, Button), _defineProperty(_components, FormGroupInput.name, FormGroupInput), _components),\n  computed: _objectSpread({}, mapGetters(['allTags', 'status', 'error', 'user', 'loggedUser']), {\n    getInterests: function getInterests() {\n      var _this = this;\n\n      var tags = this.allTags;\n      this.fetchedTags = [];\n      this.userData.interests.forEach(function (item) {\n        tags.filter(function (tag) {\n          if (tag.id == item) {\n            _this.fetchedTags.push(tag.value);\n          }\n        });\n      });\n      console.log(\"Fetched \" + this.fetchedTags);\n    }\n  }),\n  data: function data() {\n    return {\n      value: [],\n      fetchedTags: [],\n      modals: {\n        classic: false,\n        videoModal: false\n      },\n      userImage: {\n        profile_image: null\n      },\n      userVideo: {\n        profile_video: null\n      },\n      picture: '',\n      profileVideo: null,\n      interestId: [],\n      userData: {\n        first_name: '',\n        last_name: '',\n        age: '',\n        email: '',\n        job_occupation: '',\n        institute: '',\n        about: '',\n        interests: []\n      }\n    };\n  },\n  methods: _objectSpread({}, mapActions(['fetchTags', 'updateUserProfile', 'updateImage', 'updateVideo']), {\n    onPickVideo: function onPickVideo() {\n      this.$refs.VideoInput.click();\n    },\n    onVideoSelected: function onVideoSelected(event) {\n      var videoFile = event.target.files[0];\n      this.userVideo.profile_video = videoFile;\n      this.updateVideo(this.userVideo);\n    },\n    onPickFile: function onPickFile() {\n      this.$refs.FileInput.click();\n    },\n    onFilePicked: function onFilePicked(event) {\n      this.picture = event.target.files[0].name;\n      this.userImage.profile_image = event.target.files[0];\n      this.updateImage(this.userImage);\n      console.log(event.target.files[0].name);\n    },\n    updateProfile: function updateProfile() {\n      var _this2 = this;\n\n      if (this.value.length > 0) {\n        this.value.forEach(function (item) {\n          _this2.interestId.push(item.id);\n        });\n        this.userData.interests = this.interestId, this.updateUserProfile(this.userData);\n        this.modals.classic = false;\n        this.getInterests;\n      } else {\n        var loggedUser = JSON.parse(localStorage.getItem('loggedUser'));\n        this.userData.interests = loggedUser.interests;\n        this.updateUserProfile(this.userData);\n        this.modals.classic = false;\n        this.getInterests;\n      }\n    }\n  }),\n  watch: {\n    loggedUser: function loggedUser(val) {\n      var _this3 = this;\n\n      //&& val.uid.length > 0\n      console.log(\"auth state watched\");\n\n      if (val) {\n        setTimeout(function () {\n          if (val.profile_image) {\n            _this3.profileImage = val.profile_image;\n          }\n\n          if (val.profile_video) {\n            _this3.profileVideo = val.profile_video;\n          }\n\n          console.log('VAL', val);\n          console.log(val.profile_image);\n        }, 500);\n      } else {\n        //this.success = false\n        console.log('Something wrong');\n      }\n    }\n  },\n  created: function created() {\n    var loggedUser = JSON.parse(localStorage.getItem('loggedUser'));\n\n    if (loggedUser != null) {\n      this.userData.first_name = loggedUser.first_name;\n      this.userData.last_name = loggedUser.last_name;\n      this.userData.age = loggedUser.age;\n      this.userData.about = loggedUser.about;\n      this.userData.email = loggedUser.email;\n      this.userData.interests = loggedUser.interests;\n      this.userData.job_occupation = loggedUser.job_occupation;\n      this.userData.institute = loggedUser.institute;\n\n      if (loggedUser.profile_image) {\n        this.profileImage = loggedUser.profile_image;\n      }\n\n      if (loggedUser.profile_video) {\n        this.profileVideo = loggedUser.profile_video;\n      }\n    }\n\n    this.fetchTags();\n\n    if (this.allTags != null) {\n      console.log(this.allTags);\n      this.getInterests;\n    }\n  }\n};",{"version":3,"sources":["Profile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"container mt-5\">\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <div class=\"user-info\">\n            <n-button type=\"info\" style=\"float: right;\" @click.native=\"modals.classic = true\">\n              Edit Profile\n            </n-button>\n            <div style=\"clear: both\"></div>\n            <div class=\"photo-container text-center\"  @click=\"onPickFile()\">\n              <i class=\"icon fa fa-pencil\"></i>\n              <input type=\"file\" @change=\"onFilePicked\" style=\"display:none;\" ref=\"FileInput\">\n              <img class=\"pic\" v-if=\"profileImage!= null\" :src=\"profileImage\" alt=\"\" />\n              <input type=\"file\" style=\"display:none\">\n            </div>\n            <h4 class=\"text-center text-success\"><b>{{userData.first_name + \" \" + userData.last_name}}</b></h4>\n            <h5 class=\"text-center\"><b class=\"text-info\">Age :</b> {{ userData.age }} Years</h5>\n            <span id=\"about\">{{userData.about}}</span>\n            \n          </div>\n          <div class=\"user-info mt-2\">\n            <h4 class=\"text-info\">INTERESTS</h4>\n            <span class=\"badge badge-pill badge-success\" v-for=\"(tag,index) in fetchedTags\" :key=\"index\">{{tag}}</span>\n          </div> \n        </div>\n        <div class=\"col-md-8\">\n          <h2 class=\"title-up\">Profile Video</h2>\n            <div>\n                <h5 v-if=\"profileVideo == null\" class=\"text-info\" style=\"float: left;\">No Profile Video Found.</h5>\n                <n-button class=\"btn-info\" style=\"float: right;\" @click=\"onPickVideo()\">Update Profile Video</n-button>\n                <input type=\"file\" @change=\"onVideoSelected\" style=\"display:none;\" ref=\"VideoInput\">\n                <span style=\"clear: both;\"></span>\n            </div>\n            <video v-if=\"profileVideo != null\" :src=\"profileVideo\" controls height=\"300\" width=\"650\"></video>\n        </div>\n      </div>\n    </div>\n    <!-- <div class=\"page-header clear-filter\">\n      \n      <div class=\"container\">\n        \n        <n-button type=\"primary\" @click.native=\"modals.classic = true\">\n            Edit Profile\n        </n-button>\n        <n-button class=\"ml-3\" v-if=\"profileVideo != null\" type=\"success\" @click.native=\"modals.videoModal = true\">\n            View Profile Video\n        </n-button>\n      </div>\n    </div> -->\n    \n         <!-- Classic Modal -->\n    <modal :show.sync=\"modals.classic\" headerClasses=\"justify-content-center\">\n      <h4 slot=\"header\" class=\"title title-up\">Update Profile</h4>\n      <form>\n        <div class=\"row\">\n          <div class=\"col-md-6 col-lg-6\">\n            <div class=\"form-group\">\n              <label for=\"\">First Name</label>\n              <fg-input\n                  class=\"no-border input-lg\"\n                  addon-left-icon=\"now-ui-icons users_single-02\"\n                  placeholder=\"First Name\"\n                  v-model=\"userData.first_name\"\n                  type=\"text\">\n              </fg-input>\n            </div>\n          </div>\n\n          <div class=\"col-md-6 col-lg-6\">\n            <div class=\"form-group\">\n              <label for=\"\">Last Name</label>\n              <fg-input\n                class=\"no-border input-lg\"\n                addon-left-icon=\"now-ui-icons users_single-02\"\n                placeholder=\"Last Name\"\n                v-model=\"userData.last_name\"\n                type=\"email\">\n              </fg-input>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"row\">\n          <div class=\"col-md-6 col-lg-6\">\n            <div class=\"form-group\">\n              <label for=\"\">Age</label>\n              <fg-input\n                  class=\"no-border input-lg\"\n                  addon-left-icon=\"now-ui-icons users_single-02\"\n                  placeholder=\"Age\"\n                  v-model=\"userData.age\"\n                  type=\"number\">\n              </fg-input>\n            </div>\n          </div>\n\n          <div class=\"col-md-6 col-lg-6\">\n            <div class=\"form-group\">\n              <label for=\"\">Email</label>\n              <fg-input\n                class=\"no-border input-lg\"\n                addon-left-icon=\"now-ui-icons ui-1_email-85\"\n                placeholder=\"Email\"\n                v-model=\"userData.email\"\n                disabled\n                type=\"email\">\n              </fg-input>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-md-6 col-lg-6\">\n            <div class=\"form-group\">\n              <label for=\"\">Occupation</label>\n              <fg-input\n                class=\"no-border input-lg\"\n                addon-left-icon=\"now-ui-icons business_briefcase-24\"\n                placeholder=\"Occupation\"\n                v-model=\"userData.job_occupation\"\n                type=\"text\">\n              </fg-input>\n            </div>\n          </div>\n\n          <div class=\"col-md-6 col-lg-6\">\n            <div class=\"form-group\">\n              <label for=\"\">School</label>\n              <fg-input\n                class=\"no-border input-lg\"\n                addon-left-icon=\"now-ui-icons education_hat\"\n                placeholder=\"School\"\n                v-model=\"userData.institute\"\n                type=\"text\">\n            </fg-input>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-md-12 col-lg-12\">\n            <div class=\"form-group\">\n              <label for=\"\">About</label>\n              <fg-input\n                class=\"no-border input-lg\"\n                addon-left-icon=\"now-ui-icons ui-2_chat-round\"\n                placeholder=\"About\"\n                v-model=\"userData.about\"\n                type=\"text\">\n              </fg-input>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-md-12 col-lg-12\">\n            <div class=\"form-group\">\n              <label for=\"\">Pick Interests</label>\n              <multiselect v-model=\"value\" \n                :options=\"allTags\" \n                :multiple=\"true\" \n                :close-on-select=\"false\" \n                :clear-on-select=\"false\" \n                :preserve-search=\"true\" \n                placeholder=\"Pick Your Interests\" \n                label=\"value\" \n                track-by=\"value\" \n                :preselect-first=\"false\">\n                  <template slot=\"selection\" slot-scope=\"{ values, search, isOpen }\"><span class=\"multiselect__single\" v-if=\"values.length &amp;&amp; !isOpen\">{{ values.length }} options selected</span></template>\n              </multiselect>\n            </div>\n          </div>\n        </div>\n      </form>\n      <template slot=\"footer\">\n        <n-button type=\"danger\" @click.native=\"modals.classic = false\"\n          >Close</n-button>\n          <n-button type=\"success\" @click=\"updateProfile\">Update Profile</n-button>\n      </template>\n    </modal>\n\n    \n  </div>\n</template>\n<script>\nimport { Tabs, TabPane, Modal, FormGroupInput, Button } from '@/components';\nimport Multiselect from 'vue-multiselect'\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'profile',\n  bodyClass: 'profile-page',\n  components: {\n    Tabs,\n    Modal,\n    TabPane,\n    Multiselect,\n    [Button.name]: Button,\n    [FormGroupInput.name]: FormGroupInput\n  },\n  computed: { \n      ...mapGetters(['allTags', 'status', 'error', 'user', 'loggedUser']),\n\n      getInterests() {\n        var tags = this.allTags\n        this.fetchedTags = []\n        this.userData.interests.forEach(item => {\n          tags.filter(tag => {\n            if(tag.id == item) {\n              this.fetchedTags.push(tag.value)\n            }\n          })\n        })\n        console.log(\"Fetched \" + this.fetchedTags)\n      }\n    },\n  data() {\n    return {\n      value: [],\n      fetchedTags: [],\n      modals: {\n        classic: false,\n        videoModal: false\n      },\n      userImage: {\n        profile_image: null\n      },\n      userVideo: {\n        profile_video: null\n      },\n      picture: '',\n      profileVideo: null,\n      interestId: [],\n      userData: {\n          first_name: '',\n          last_name: '',\n          age: '',\n          email: '',\n          job_occupation: '',\n          institute: '',\n          about: '',\n          interests: [],\n      },\n      \n    }\n  },\n  methods: {\n    ...mapActions(['fetchTags', 'updateUserProfile', 'updateImage', 'updateVideo']),\n\n    onPickVideo() {\n      this.$refs.VideoInput.click();  \n    },\n    onVideoSelected(event) {\n          let videoFile = event.target.files[0];\n          this.userVideo.profile_video = videoFile\n          this.updateVideo(this.userVideo)\n      },\n    onPickFile() { \n       this.$refs.FileInput.click();\n    },\n    onFilePicked(event) { \n      this.picture = event.target.files[0].name;\n      this.userImage.profile_image = event.target.files[0]\n      this.updateImage(this.userImage);\n      console.log(event.target.files[0].name)\n    },\n    updateProfile() {\n      if(this.value.length > 0) {\n            this.value.forEach(item => {\n            this.interestId.push(item.id)\n          })\n          \n          this.userData.interests = this.interestId,\n\n          this.updateUserProfile(this.userData)\n          this.modals.classic = false\n          this.getInterests\n      }\n      else {\n        const loggedUser = JSON.parse(localStorage.getItem('loggedUser'));\n        this.userData.interests = loggedUser.interests\n        this.updateUserProfile(this.userData)\n          this.modals.classic = false\n          this.getInterests\n      }\n    }\n  },\n\n  watch: {\n    loggedUser (val) {\n        //&& val.uid.length > 0\n        console.log(\"auth state watched\")\n\n            if (val) {\n                setTimeout(() => {\n                  if(val.profile_image) {\n                    this.profileImage = val.profile_image\n                  }\n                  if(val.profile_video) {\n                    this.profileVideo = val.profile_video\n                  }\n                  console.log('VAL',val)\n                  console.log(val.profile_image)\n                }, 500)\n            }\n            else{\n              //this.success = false\n              console.log('Something wrong')\n            }\n        },\n  },\n\n  created() {\n    \n    const loggedUser = JSON.parse(localStorage.getItem('loggedUser'));\n    if(loggedUser != null) {\n      this.userData.first_name = loggedUser.first_name\n      this.userData.last_name = loggedUser.last_name\n      this.userData.age = loggedUser.age\n      this.userData.about = loggedUser.about\n      this.userData.email = loggedUser.email\n      this.userData.interests = loggedUser.interests\n      this.userData.job_occupation = loggedUser.job_occupation\n      this.userData.institute = loggedUser.institute\n      if(loggedUser.profile_image) {\n        this.profileImage = loggedUser.profile_image\n      }\n      if(loggedUser.profile_video) {\n        this.profileVideo = loggedUser.profile_video\n      }\n    }\n    this.fetchTags();\n\n    if(this.allTags != null) {\n        console.log(this.allTags)\n        this.getInterests\n      }\n  }\n};\n</script>\n<style scoped>\n  .user-info {\n    padding: 20px;\n    border: 2px solid #e5e5e5;\n  }\n  #about {\n    max-width: 160px !important;\n  }\n  .pic:hover {\n    cursor: pointer;\n  }\n  .icon {\n    position: absolute;\n    padding: 10px;\n    background: #2CA8FF;\n    border-radius: 50%;\n    color: #fff;\n    left: 58%;\n    top:30%;\n  }\n</style>\n"],"sourceRoot":"src/pages"}]}